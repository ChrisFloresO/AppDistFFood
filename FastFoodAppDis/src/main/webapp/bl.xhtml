<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"> 

<head>
    <title>Menu</title>
    <meta charset="utf-8"/>
    <meta name="format-detection" content="telephone=no"/>
    <link rel="icon" href="resources/template/site/images/favicon.ico" type="image/x-icon"/>
    <link rel="stylesheet" href="resources/template/site/css/grid.css"/>
    <link rel="stylesheet" href="resources/template/site/css/style.css"/>
    
    <link href="resources/template/site/css/tabla.css" type="text/css" rel="stylesheet" />
	
    <script src="js/jquery.js"></script>
    <script src="js/jquery-migrate-1.2.1.js"></script>
    <script src='js/device.min.js'></script> 
</head>

<body> 
 <header>

        <div id="stuck_container" class="stuck_container">
            <div class="container">

                <div class="brand">
                    <h1 class="brand_name">
                        <a href="./">Fast Food</a>
                    </h1>
                </div>

                <nav class="nav">
                    <ul class="sf-menu">
                        <li>
                            <a href="Home.xhtml">Home</a>
                        </li>
                         <li class="active">
                            <a href="bl.xhtml">Menu</a>
                        </li>
                        <li>
                            <a href="index-2.html">Ubicanos</a>
                        </li>
                        <li>
                            <a href="index-4.html">Contacts</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>

</header>
    
    <main>
    <center>
     <h:form id="form">
	<div class="box box-info">
            <div class="box-header with-border">
              <h3 class="box-title">Lista de Plato</h3>
            </div>
    </div>     
	<h:outputText value="No existe registros" 
	rendered="#{empty platoControler.platos}"/>


  <p:dataScroller value="#{platoControler.platos}"  var="car" chunkSize="10">
        <h:panelGrid columns="2" style="width:30%" columnClasses="logo,detail" >
            <h:graphicImage value="data:image/jpg;base64,#{platoControler.pdao.convertir(car.imagen)}" />
            <p:outputPanel>
                <h:panelGrid columns="2" cellpadding="5">
                    <h:outputText value="Id:" />
                    <h:outputText value="#{car.descripcion}" style="font-weight: bold"/>
 
                    <h:outputText value="Year:" />
                    <h:outputText value="#{car.precio}" style="font-weight: bold"/>
 
                    <h:outputText value="Color:" />
                    <h:outputText value="#{car.restaurante.nombre}" style="font-weight: bold"/>
                    
                    <p:commandLink update=":form:carDetail" oncomplete="PF('carDialog').show()" title="View Detail">
                    <h:outputText styleClass="ui-icon ui-icon-search" style="margin:0 auto;" />
                    <f:setPropertyActionListener value="#{car}" target="#{platoControler.plato}" />
                    
                </p:commandLink>
                </h:panelGrid>
            </p:outputPanel>
        </h:panelGrid>
    </p:dataScroller>
    <p:dialog header="Car Info" widgetVar="carDialog" modal="true" showEffect="fade" hideEffect="fade" resizable="false">
        <p:outputPanel id="carDetail" style="text-align:center;">
            <p:panelGrid  columns="2" rendered="#{not empty platoControler.plato}" columnClasses="label,value">
                <f:facet name="header">
                     <h:graphicImage value="data:image/jpg;base64,#{platoControler.pdao.convertir(platoControler.plato.imagen)}" />
                </f:facet>
 
                <h:outputText value="Id:" />
                <h:outputText value="#{platoControler.plato.nombre}" />
 
                <h:outputText value="Year" />
                <h:outputText value="#{platoControler.plato.descripcion}" />
 
                <h:outputText value="Color:" />
                <h:outputText value="$#{platoControler.plato.precio}" />
 
                <h:outputText value="Price" />
                <h:outputText value="#{platoControler.plato.restaurante.nombre}" />
            </p:panelGrid>
        </p:outputPanel>
    </p:dialog>
	<div class="box-footer">
             <h:commandButton action="Registra_Plato" class="btn btn-info pull-right" id="btn" value="Registrar Nuevo Plato"/>
        </div>
        
	</h:form>
	</center>
    </main>
     <footer>
        <div class="container">
            <ul class="socials">
                <li><a href="#" class="fa fa-facebook"></a></li>
                <li><a href="#" class="fa fa-tumblr"></a></li>
                <li><a href="#" class="fa fa-google-plus"></a></li>
            </ul>
            <div class="copyright">Â© <span id="copyright-year"></span> |
                <a href="#">Privacy Policy</a>
            </div>
        </div>
        <div class="tm"><a href="#"><img src="resources/template/site/images/TM_logo.png" alt=""/></a></div>
    </footer>
<script src="js/script.js"></script>
</body> 
</html>
